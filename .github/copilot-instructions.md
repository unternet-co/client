For any sufficiently complex task, write a plan first, then iterate back and forth with the user to refine it.
Don't add unnecessary comments or explanations.
